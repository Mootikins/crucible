[benchmark]
# Enable release optimizations for benchmarks
profile = "release"

# Stack size for benchmarks (increased for deep call stacks)
stack-size = 8388608

# Timeout for individual benchmarks (in seconds)
timeout = 600

# Number of samples to collect
sample-size = 100

# Warm-up time before measurements
warm-up-time = 3

# Measurement time per sample
measurement-time = 5

[target.benchmark]
# Optimize for current CPU architecture and link-time optimization
rustflags = ["-C", "target-cpu=native", "-C", "link-args=-Wl,-O2"]

# Performance debugging flags (comment out for production runs)
# rustflags = ["-C", "instrument-coverage"]
# rustflags = ["-C", "profile-generate"]

[env]
# Environment variables for benchmarks
# RUST_LOG = "debug"              # Enable debug logging
# RUST_BACKTRACE = "1"            # Enable backtraces on panic
# MALLOC_CONF = "prof:true,lg_prof_sample:20"  # Memory profiling (jemalloc)

# Performance monitoring settings
# RUST_PROFILER = "1"             # Enable built-in profiler
# RUST_STATS = "1"                # Enable runtime statistics