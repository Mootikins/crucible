# Discovery Paths Configuration
# Location: ~/.config/crucible/discovery.toml
#
# This file is included from config.toml via:
#   [include]
#   discovery = "discovery.toml"
#
# Configure where Crucible searches for Rune scripts (tools, hooks, events).

# =============================================================================
# Rune Tools Discovery
# =============================================================================
# Tools are Rune scripts that expose MCP-compatible tools.
# They're discovered from these paths and available via the tool system.

[type_configs.tools]
# Additional paths to search for tool scripts
additional_paths = [
    # Shared tools for all users
    # "/opt/crucible/tools",
    
    # User-specific tools
    # "~/.local/share/crucible/tools",
    
    # Project-specific tools (relative to kiln)
    # Will be resolved relative to kiln_path when used
]

# Whether to also search default locations:
# - ~/.crucible/tools/
# - KILN/.crucible/tools/
use_defaults = true

# =============================================================================
# Hook Scripts Discovery
# =============================================================================
# Hooks intercept and transform tool calls, enabling:
# - Output filtering (remove verbose test output)
# - Input transformation
# - Logging and auditing
# - Tool selection/blocking

[type_configs.hooks]
additional_paths = [
    # Shared hooks
    # "/opt/crucible/hooks",
]

use_defaults = true

# =============================================================================
# Event Handler Discovery
# =============================================================================
# Event handlers respond to system events like:
# - recipe:discovered (new pattern found)
# - note:created, note:updated
# - tool:before, tool:after

[type_configs.events]
additional_paths = [
    # Shared event handlers
    # "/opt/crucible/events",
]

use_defaults = true

# =============================================================================
# Custom Type Discovery
# =============================================================================
# You can define discovery paths for custom resource types.
# These are accessed via the discovery system's type_configs map.

# [type_configs.templates]
# additional_paths = ["~/.crucible/templates", "./templates"]
# use_defaults = false

# [type_configs.prompts]
# additional_paths = ["~/.crucible/prompts"]
# use_defaults = true
